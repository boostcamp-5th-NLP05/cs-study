# 보조 기억 장치

# 07-1 다양한 보조기억장치

## 하드 디스크 (자기 디스크)
  - 자기적인 방식으로 데이터를 저장하는 보조기억장치
  - 동그란 원판에 데이터를 저장하고, 그것을 회전시켜 뾰족한 리더기를 통해 데이터를 읽는다.
### 하드 디스크 구조
  - 플래터(platter): 하드 디스크에서 데이터가 실질적으로 저장되는 곳, 원판 형태, 
    자기 물질로 덮여 있고, 내부에 수많은 N극과 S극이 존재하며 비트 (0과 1) 역할
  - 스핀들(spinddle): 플래터를 회전시키는 구성 요소
  - RPM(Revolution Per Minute): 스핀들이 플래터를 돌리는 분당 회전 수를 나타내는 단위
    RPM이 15000 -> 1분에 플래터를 15000번 회전
  - 헤드(head): 플래터를 대상으로 데이터를 읽고 쓰는 구성요소, 바늘같이 생김
  - 디스크암(disk arm): 헤드를 원하는 위치로 이동시키는 부품
### 플래터
  - 트랙과 섹터라는 단위로 데이터를 저장
  - 트랙(track): 플래터를 여러 동심원으로 나눌 때 그 중 하나의 원
  - 섹터(sector): 트랙을 여러 조각으로 나눌 때 한 조각
  - 실린더(cylinder): 여러 겹의 플래터에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위
    -> 디스크 암을 움직이지 않고 연속된 정보에 바로 접근할 수 있어서 실린더에 기록
### 하드 디스크가 데이터에 접근하는 시간들 -> 성능에 큰 영향
  - 탐색 시간(seek time): 접근할 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
  - 회전 지연(rotation latency): 헤드가 있는 곳으로 플래터를 회전 시키는 시간
  - 전송 시간(transfer time): 하드 디스크와 컴퓨터 사이 데이터를 전송하는 시간
### 시간 단축
  - 플래터를 빨리 돌려 RPM을 높이기
  - 접근하려는 데이터가 플래터 or 헤드를 조금만 옮겨도 접근할 수 있는 곳에 위치시키기(참조 지역성)
### 다중 헤드 디스크 &고정 헤드 디스크
  - 단일 헤드 디스크(이동 헤드 디스크) : 플래터의 한 면당 헤드가 하나씩 달려 있는 하드 디스크
  - 다중 헤드 디스크(고정 헤드 디스크) : 트랙마다 헤드가 있는 하드 디스크

## 플래시 메모리
  - 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반 저장 장치
  - 보조기억장치 뿐만 아니라 다양한 곳에 활용되고 있음 (ROM 등)
  - USB 메모리, SD 카드, SSD가 있음
### 두 종류의 플래시 메모리가 있으며 NAND 플래시 메모리가 일반적
  - NAND 플래시 메모리 : NAND 연산을 수행하는 회로를 기반으로 만들어진 메모리

### 셀(cell)
  - 플래시 메모리에서 데이터를 저장하는 가장 작은 단위
  - 1비트: SLC, 2비트: MLC, 3비트: TLC, 4비트: QLC
  - 플래시 메모리의 수명, 속도, 가격에 큰 영향
  - 셀에 일정 횟수 이상 데이터를 쓰고 지우면 더 이상 데이터를 저장할 수 없음 -> 플래시 메모리는 수명이 있다.
![image](https://github.com/boostcamp-5th-NLP05/cs-study/assets/96599427/11df8697-7cbf-4f08-8736-ec23eabdfa6c)

### 셀보다 더 큰 단위
  - 페이지(page): 셀들이 모인 단위
  - 블록(block): 페이지가 모인 단위
  - 플레인(plane): 블록이 모인 단위
  - 다이(die): 플레인이 모인 단위
![image](https://github.com/boostcamp-5th-NLP05/cs-study/assets/96599427/15f9b953-9fb6-462f-b7d3-496c27f376a2)

### 플래시 메모리의 읽기/쓰기 단위 -> 페이지 단위 & 삭제 단위 -> 블록 단위
### 플래시 메모리 페이지의 상태
  - Free 상태: 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태
  - Valid 상태: 이미 유효한 데이터를 저장하고 있는 상태
  - Invalid 상태: 유효하지 않은 데이터를 저장하고 있는 상태
-> 플래시 메모리는 덮어 쓰기가 불가능 하기 때문에 Valid 상태인 페이지에는 새 데이터를 저장할 수 없음
### 가비지 컬렉션(garbage collection)
  - 쓰레기 값 정리
  - 유효한 페이지들을 새로운 블록에 복사, 기존 블록 삭제


# 07-2 RAID의 정의와 종류
## RAID의 정의
  - 주로 하드 디스크와 SSD에 사용하는 기술
  - 데이터의 안정성과 높은 성능을 위해서 여러 물리적 보조기억장치를 하나처럼 사용하는 기술
## RAID의 종류
  - RAID 레벨: RAID를 구성하는 여러가지 방법들
### RAID 0
  - 보조기억장치 여러 개에 데이터를 단순히 나누어 저장하는 방식
  - 스트라입: 분산하여 저장한 데이터, 스트라이핑: 분산하여 저장하는 행위
  - 단점 : 디스크 중 하나에 문제가 발생하면 다른 디스크의 정보를 온전히 읽는데 문제가 발생하여 안전하지 않음
-> RAID 1 - 복사본을 만듦
  장점 : 문제가 발생한 원본 디스크의 데이터 복구가 가능
  단점 : 하드 디스크 개수가 한정됐을 때 사용 가능한 총 용량이 감소 & 비용 증가
-> RAID 4 - 복사본 대신 오류 검출 및 복구를 위한 정보를 저장하는 장치를 따로 구성
  패리티 비트: 오류를 검출하고 복구하기 위한 정보
  장점 : 적은 하드 디스크로도 데이터를 안전하게 보관
  단점 : 병목 현상 발생
-> RAID 5 - 패리티 정보를 분산하여 저장
  장점 : 병목 현상 문제를 해결
-> RAID 6 - 패리티를 두 개 저장
  장점 : RAID 4나 5보다 데이터를 더 안전하게 보관
  단점 : RAID 5보다 느림
++ 상황마다 무엇을 최우선으로 하는지에 따라 최적의 RAID는 다름
++ 원래 패리티 비트는 오류복구가 불가능(검출만 가능)한데, RAID에서는 오류 복구도 가능

