# 왜 우리는 컴퓨터 구조를 알아야 할까?

현재의 컴퓨터 과학의 영역은 추상화가 잘 되어있기 때문에 추상화가 되기 전의 이전 레벨에 담긴 요소들을 몰라도 컴퓨터를 잘 실행시킬 수 있다. 가장 큰 예시로, 키보드의 입력이 어떤 신호로 컴퓨터에 전달되는지 몰라도 우리는 A키를 누르면 A가 입력 되고, 스페이스바를 누르면 공백이 생긴다는 것을 안다.

하지만 개발자의 입장에서는, 코드를 설계하고 작성하거나 데이터를 다룰 때 입출력이 어떤 식으로 다뤄지고 데이터가 어떻게 다뤄지는지 알고 있어야 그 컴퓨터에 맞는 효율적인 코드를 만들어낼 수 있다. 특히 C처럼 메모리 영역에 직접 접근하는 언어의 경우, 자료형의 크기와 표현 범위를 모른다면 overflow 혹은 underflow, 메모리 누수가 발생할 수 있고 구조체가 어떤 식으로 메모리를 할당하는지 모른다면, 원래는 적은 공간으로도 할당할 수 있는 구조체를 큰 공간에 할당하여 메모리를 낭비하는 경우가 생긴다. 이러한 예상치 못한 변수나 및 메모리 낭비는 해킹의 위협에도 취약하므로 주의해야 할 필요가 있다.

컴퓨터 구조에 대해 잘 이해하고 있다면 여러 위협을 미연에 방지할 수 있고 성능, 용량, 비용을 고려하는 효율적인 개발자가 될 수 있다.

# 컴퓨터의 핵심 구조
<div align=center>
  <img width="500" alt="컴퓨터" src="https://github.com/boostcamp-5th-NLP05/cs-study/assets/86578246/4d8f5d5e-5055-4992-b717-fb8204d69062">
</div>

컴퓨터 구조는 크게 위와 같이 나뉜다. 

컴퓨터는 0과 1로 이루어진 수많은 이진수로 데이터와 데이터를 다루는 명령어를 이해한다.

또한 컴퓨터의 네 가지 핵심 부품은 중앙처리장치(Central Processing Unit)와 주기억장치(main memory), 보조기억장치(secondary memory), 입출력장치(I/O device)로 구성되어있다.

## 메모리

메모리는 현재 실행되는 프로그램의 명령어와 데이터를 저장하는 부품이다. 메모리는 주소를 가지고 있으며 각 주소마다 명령어 또는 데이터를 갖고 있다. 
<div align=center>
  <img width="500" alt="메모리" src="https://github.com/boostcamp-5th-NLP05/cs-study/assets/86578246/ab791bba-9326-48ce-8eb9-afce77dc74ed">
</div>

위처럼 각 주소에 명령어 혹은 데이터가 저장된 것을 확인할 수 있다.

메모리와 관련된 주요한 내용은 아래와 같다.

- 프로그램이 실행되기 위해서는 반드시 메모리에 저장되어 있어야 한다.
- 메모리는 현재 실행되는 프로그램의 명령어와 데이터를 저장한다.
- 메모리에 저장된 값의 위치는 주소로 알 수 있다.

## CPU

CPU는 사람으로 치면 뇌와 같은 존재이다. CPU는 메모리에 저장된 명령어를 읽어 들이고, 읽어 들인 명령어를 해석하고, 실행하는 부품이다. 메모리에 존재하는 데이터와 명령어는 그저 0과 1로만 이루어져 있는데, CPU는 이를 읽어들여 파싱한 후 파싱 결과에 따라 행동한다. 메모리 그 자체는 그저 이진수 덩어리이고, CPU에서 해석하는 과정을 통해 명령어, 데이터로 받아들여진다.

CPU 내부는 크게 ALU(Arithmetic and Logical Unit, 산술논리연산장치), 레지스터, 제어장치로 구성된다.
<div align=center>
  <img width="500" alt="cpu" src="https://github.com/boostcamp-5th-NLP05/cs-study/assets/86578246/5b6eee57-e44e-4250-8b9b-b2231c5c0c34">
</div>

### ALU

ALU는 계산기와 같은 존재이다. 컴퓨터 내에서 실행되는 연산들은 모두 ALU가 담당한다.

### 레지스터

레지스터는 CPU 내부에 있는 임시 저장 장치이다. 프로그램에 실행되는 값을 임시로 저장한다. 레지스터는 보통 32개가 존재하는데, 각각의 레지스터들은 다른 역할을 수행한다. 또한 운영체제마다 레지스터의 크기가 다르다.(ex. 32bit 운영체제는 32bit를, 64bit 운영체제는 64bit의 용량을 가진다.) CPU와 가까이 있는 저장 공간일수록 그 값이 비싸고 성능이 빨라지는데, CPU 내부에 있는 레지스터를 32개로 제한한 이유는 32개보다 늘어날 시에 전기 신호를 더 멀리 전달해야 하므로 클럭 사이클이 길어지기 때문이다.  

### 제어장치

제어장치는 제어 신호라는 전기 신호를 내보내고 명령어를 해석하는 장치이다. 여기서의 제어 신호는 컴퓨터 부품들을 관리하고 작동하기 위한 전기 신호인데, 예시로 **메모리 읽기**, **메모리 쓰기**와 같은 제어 신호가 있다.

### 보조기억장치

메모리의 치명적인 단점은 가격이 비싸 많은 용량을 못 둔다는 점과 전원이 꺼지면 저장된 내용을 잃는다는 점이다. 이러한 점을 보완하기 위해 전원이 꺼져도 정보를 잃지 않는 값이 싼 보조기억장치가 등장하였다.

보조기억장치의 예시로는 하드 디스크, SSD, USB 메모리, DVD, CD-ROM 등이 있다. 메모리는 현재 **실행되는** 프로그램을 저장한다면, 보조기억장치는 **보관할** 프로그램을 저장한다고 생각해도 좋다.

### 입출력장치

입출력장치는 마이크, 스피커, 프린터, 마우스, 키보드와 같은 장치들을 의미한다. 

### 메인보드와 시스템 버스

메인보드는 컴퓨터의 핵심 부품 중 하나인데, 위에서 말한 모든 부품은 이 메인보드에 연결된다. 메인보드에 연결된 부품들은 **버스**라는 데이터 이동 통로를 사용하여 데이터를 주고 받는다. 위에서 밝힌 핵심 부품 네 가지는 **시스템 버스**로 연결되어 있다.

시스템 버스는 주소 버스, 데이터 버스, 제어 버스로 구성된다.

메모리 읽기 신호를 예시로 들면, CPU는 제어 버스로 메모리 읽기 제어 신호를, 주소 버스로 읽고자 하는 주소를 보내면 메모리는 데이터 버스로 요청한 데이터를 CPU에 전달해준다.

또한 메모리 쓰기 신호의 경우, 제어 버스로 메모리 쓰기 신호를, 주소 버스로 쓰고자 하는 주소를, 데이터 버스로 쓰고자 하는 데이터를 보내면 메모리의 원하는 위치에 데이터가 기록된다.
