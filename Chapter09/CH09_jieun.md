# Chapter 09 운영체제 시작하기

## 09-1 운영체제를 알아야 하는 이유

- **운영체제(operating system)**: 프로그램에 필요한 자원을 할당하고 프로그램이 올바르게 실행되도록 돕는 *프로그램*
  - eg) 윈도우, macOS, 리눅스, 안드로이드, iOS
  - **시스템 자원**: CPU, 메모리, 입출력장치 등 프로그램 실행에 필요한 요소들
  - 메모리 내 **커널 영역**에 적재됨 `cf) 응용 프로그램은 사용자 영역에`

개발자가 코드를 짜면 운영체제는 그에 맞게 하드웨어를 조작하고 관리해준다. 운영체제는 하드웨어의 상태 및 하드웨어가 어떻게 프로그램을 실행하고 있는지를 알려준다.\
eg) 오류 메시지 - 메모리 누수 현상, 잘못된 주소 참조  

## 09-2 운영체제의 큰 그림

- **커널**
  - 운영체제의 핵심 서비스를 담당하는 부분
  - `cf) 사용자 인터페이스(UI) - 그래픽 유저 인터페이스(GUI), 커맨드 라인 인터페이스(CLI)`
- 이중모드와 시스템 호출
  - 운영체제는 응용 프로그램이 하드웨어 자원에 직접 접근하는 것을 방지
  - CPU가 명령어를 실행하는 모드를 사용자 모드와 커널 모드로 구분. `슈퍼바이저 플래그`
  - **사용자 모드**: 운영체제 서비스를 제공받을 수 없는 실행 모드
  - **커널 모드**: 운영체제 서비스를 제공받을 수 있는 실행 모드. 커널 영역의 코드 실행 가능.
  - **시스템 호출(system call)**: 사용자 모드에서 운영체제 서비스를 제공받기 위해 보내는 요청. 운영체제는 응용 프로그램 대신 자원에 접근해서 요청 받은 작업 수행.
    - 소프트웨어 인터럽트 `cf) 입출력장치에 의한 하드웨어 인터럽트`
  
> **응용 프로그램이 하드 디스크에 데이터를 저장하는 예시**
> 
> 1. 하드 디스크에 데이터를 저장하는 시스템 호출 발생. 커널 모드로 전환.
> 2. 운영체제 내의 코드를 실행해서 하드 디스크에 접근
> 3. 사용자 모드로 복귀 

- 운영체제의 핵심 서비스
  - **프로세스 관리** &rarr; 10장
    - 프로세스: 실행 중인 프로그램
    - 여러 프로세스가 동시에 실행되는 환경에서 *프로세스 동기화*, *교착 상태* 해결 방법 &rarr; 12장, 13장
  - **자원 접근 및 할당**
    - CPU 스케줄링: 어떤 프로세스부터 CPU를 이용하고, 얼마나 이용할 것인지 결정 &rarr; 11장
    - 메모리: 프로세스에게 메모리를 할당하는 방법과 메모리가 부족할 때 처리 방법 &rarr; 14장
    - 보조기억장치&입출력장치: 입출력 장치가 하드웨어 인터럽트 요청 신호를 보내면 CPU는 *커널 영역에서 인터럽트 서비스 루틴 실행*
  - **파일 시스템 관리** &rarr; 15장
    - 데이터를 파일과 디렉터리(폴더)로 관리

> **가상 머신과 이중 모드**
> - 가상 머신: 소프트웨어적으로 만들어낸 가상 컴퓨터.
> - 하이퍼바이저 모드: 가상 머신 위 운영체제로부터 운영체제 서비스를 받을 수 있는도록 함
