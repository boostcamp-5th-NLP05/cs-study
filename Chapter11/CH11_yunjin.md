# Chapter 11 CPU 스케줄링

## 11-1 CPU 스케쥴링 개요

- CPU 가 자원을 공정하고 합리적으로 배분
- 프로세스마다 우선순위가 다르다.

| 프로세스의 종류 | 입출력 집중 프로세스 | CPU 집중 프로세스 |
| --- | --- | --- |
|  | 실행 상태보다는 입출력을 위한 대기 상태에 더 많이 머무르게 된다. | 대기 상태보다는 실행 상태에 더 많이 머무르게 됨 |
|  | 입출력 버스트 > CPU 버스트 | 입출력 버스트 < CPU 버스트 |

- CPU 버스트 : CPU 를 이용하는 작업
- 입출력 버스트 : 입출력장치를 기다리는 작업
- 모든 프로세스가 차례대로 돌아가면서 수행하는 게아니라 각각의 상황에 맞게 CPU 를 맞게 배정하는 것이 효율적이다.
    - 운영체제는 각 프로세스의 PCB 에 우선순위를 명시하고, PCB 에 적힌 우선순위를 기준으로 먼저 처리할 프로세스를 결정함.

## 스케쥴링 큐

- 운영체제는 프로세스에게 ‘줄을 서서 기다릴 것’을 요구

| 준비 큐 | CPU를 이용하고 싶은 프로세스들이 서는 줄을 의미 |
| --- | --- |
| 대기 큐 | 입출력장치를 이용하기 위해 대기 상태에 접어든 프로세스들이 서는 줄을 의미  |

## 선점형과 비선점형 스케쥴링

스케쥴링 방식 구분

|  | 선점형 | 비 선점형 |
| --- | --- | --- |
| 설명 | 하나의 프로세스가 자원 사용을 독점할 수 없는 스케쥴링 방식 | 하나의 프로세스가 자원 사용을 독점할 수 있는 스케쥴링 방식 |
| 장점 | 자원 독점을 방지, 골고루 자원 배분 | 오버헤드 적음 |
| 단점 | 문맥 교환 과정에서 오버헤드 |  대기 소요, 골고루 X |

# 11-2 CPU 스케쥴링 알고리즘

스케쥴링 알고리즘 종류

- 선입 선처리 스케쥴링
    - FCFS  (First Come First Served Scheduling)
    - 무작정 대기 (호휘효과)
- 최단 작업 우선 스케쥴링
    - 길이가 가장 짧은 프로세스부터 실행
    - SJF 스케쥴링 (Shortest Job First Scheduling)
- 라운드 로빈 스케쥴링
    - 타임 슬라이스 : 각 프로세스가 CPU를 사용할 수 있는 정해진 시간을 의미
    - 타임 슬라이스가 너무 크면 호휘효과, 너무 작으면 문맥교환 오버헤드
- 최소 잔여 시간 우선 스케쥴링
    - SRT 스케쥴링 (Shortest Remaining Time)
    - 정해진 타임 슬라이스 만큼 CPU를 사용하되, CPU를 사용할 다음 프로세스로는 남아있는 작업 시간이 가장 적은 프로세스가 선택
- 우선순위 스케쥴링
    - 프로세스들에 우선순위를 부여하고, 가장 높은 우선순위를 가진 프로세스부터 실행하는 스케쥴링 알고리즘
    - 우선순위가 낮은 프로세스들은 계속 기다리는 ‘기아 현상’ 발생
        - 에이징
            - 오랫동안 대기한 프로세스들의 우선순위를 점차 높이는 방식
- 다단계 큐 스케쥴링
    - 우선순위 별로 준비 큐를 여러개 사용하는 스케쥴링 방식
    - 큐 별로 스케쥴링 방식을 다르게 할 수 도 있음.
- 다단계 피드백 큐 스케쥴링 (가장 일반적)
    - 새로 준비 상태가 된 프로세스가 있다면 우선 순위가 가장 높은 우선순위 큐에 삽입되고 일정 시간 동안 실행, 끝나지 않는다면 다 낮은 우선순위 큐로 배정
    - 에이징 기법도 적용함
    - → 다단계 피드백 큐 스케쥴링 알고리즘은 어떤 프로세스의 CPU 이용 시간이 길면 낮은 우선순위 큐로 이동시키고, 어떤 프로세스가 낮은 우선순위 큐에서 너무 오래 기다린다면 높은 우선순위 큐로 이동시킬 수 있는 알고리즘