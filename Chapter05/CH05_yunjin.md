# Chapter 05 CPU 성능 향상 기법

## 5-1 빠른 CPU 를 위한 설계 기법

- 클럭
    - 컴퓨터 부품들은 “클럭 신호” 에 맞춰 움직임
    - `클럭 속도 up → 성능 향상`
        - 무조건 적으로 좋아지지는 않음
    - 헤르크 Hz 단위로 측정
    - 오버클럭킹
        - 클럭 속도가 항상 유지되지는 않음.
    - 발열 문제
- 코어, 멀티 코어
    - 명령어를 실행하는 부품 CPU
    - CPU 내부에 `멀티 코어`, `멀티 프로세서`
- 스레드
    - 실행 흐름의 단위
    - 스레드의 종류
        - `**하드웨어적 스레드` (= 논리 프로세서) (= 하드웨어 스레드)
        정의 : 하나의 코어가 동시에 처리하는 명령어 단위**
            - 1코어  1스레드
            - 2코어 4스레드
            - 멀티코어, 멀티스레드
            - 핵심은 레지스터
        - `**소프트웨어적 스레드` (= 스레드)
        정의 : 하나의 프로그램에서 독립적으로 실행하는 단위**
            - 소프트웨어적 스레드 : 하나의 프로그램에서 독립적으로 실행되는 단위
- 멀티코어 프로세스 VS 멀티스레드 프로세서

## 5-2 명령어 병렬 처리 기법

1. `명령어 파이프라인`
    - 명령어 처리 과정 단계가 반복되지 않으면 중복해서 실행할 수 있다.
    - 명령어 처리 과정
        - 명령어 인출
        - 명령어 해석
        - 명령어 실행
        - 결과 저장
    - 파이프라인 위험
        - 데이터 위험
            - 명령어 간의 의존성
        - 제어 위험
            - 프로그램 카운터의 급작스러운 변화
            - `대응`: 분기 예측
        - 구조적 위험
            - 서로 다른 명령어가 같은 CPU 부품(ALU, 레지스터)를 쓰려고 할 때
2. `슈퍼스칼라`
    - CPU 내부에 여러 개의 명령어 파이프라인을 포함한 구조
    - 고도의 설계 필요
3. `비순차적 명령어 처리`
    - 파이프라인 중단을 방지하기 위해, 명령어를 순차적으로 처리하지 않는 병렬 기법

## 5-3 명령어 집합 구조, CISC와 RISC

- 명령어 파이프라이닝과 슈퍼스칼라 기법이 실제 CPU 적용되기 위해서는 최적화가 되어 있어야 함. → CISC, RISC
- ISA
    - CPU 가 이해할 수 있는 명령어의 모음
    - 명령어 집합, 명령어 집합 구조
        - x86-64
        - arm
        - 이해할 수 있는 어셈블리어가 달라짐. → 나비효과 → 제어장치, 레지스터, 메모리 관리 영향
- ISA 의 양대 산맥
    - **CISC** (Complex Instruction Set Computer)
        - 복잡한 명령어 집합을 활용하는 컴퓨터(CPU)
        - 메모리 아낄 수 있음.
        - 명령어의 규격화가 어려워 파이프라이닝이 어려움
        - `x86`
    - **RISC** (Reduced Instruction Set Computer)
        - 명령어의 종류가 적고, 짧은 규격화된 명령어 사용
        - 고정 길이 명령어
        - 다만, 명령어 종류가 CISC
        - `ARM`
