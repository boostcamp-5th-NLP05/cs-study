# 프로세스와 스레드

# 10-1 프로세스 개요

## 프로세스 직접 확인하기
### 포그라운드 프로세스
  - 사용자가 볼 수 있는 공간에서 실행되는 프로세스
### 백그라운드 프로세스
  - 사용자가 볼 수 없는 공간에서 실행되는 프로세스
  - 사용자와 직접 상호작용할 수 있는 프로세스/사용자와 직접 상호작용할 수 없는 프로세스
  - 데몬 : 사용자와 상호작용하지 않고 백그라운드에서 실행되는 프로세스

## 프로세스 제어 블록
  - 타이머 인터럽트를 통하여 프로세스를 바꿈
  - 프로세스의 상태, 프로그램 카운터, 레지스터, 스택 포인터, 스택, 프로세스 번호, 프로세스 우선순위, 프로세스가 사용하는 자원 등을 포함
  - 프로세스 ID(Process ID, PID): 프로세스를 구분하기 위한 고유한 번호이다.
### 레지스터 값
   - 프로세스가 실행되는 동안 변경되는 값
   - 프로그램 카운터를 비롯한 레지스터 값들을 담음
### 프로세스 상태
  - 현재 프로세스가 어떤 상태인지를 나타냄
### CPU 스케쥴링 정보
  - 프로세스의 우선순위, 스케쥴 큐에 대한 포인터 등을 포함
### 메모리 관리 정보
  - 프로세스가 사용하는 메모리의 주소 범위, 페이지 테이블에 대한 포인터 등을 포함
### 사용한 파일과 입출력장치목록
  - 프로세스가 사용하는 입출력 장치에 대한 포인터 등을 포함

## 문맥 교환
  - 문맥 : 프로세스 수행을 재개하기 위해 기억해야할 중간 정보
  - 프로세스가 CPU를 사용하다가 다른 프로세스가 CPU를 사용하도록 하는 것
## 프로세스의 메모리 영역
  - 코드 영역 : 기계어로 이루어진 명령어 저장, 쓰기가 금지되어 있는 읽기 전용 영역
  - 데이터 영역 : 전역 변수와 정적 변수 저장, 초기화된 데이터 - 데이터 영역, 초기화되지 않은 데이터 - BSS 영역에 저장
  - 힙 영역 : 프로그래머가 직접 할당할 수 있는 영역, 메모리 누수가 발생할 수 있으므로 주의
  - 스택 영역 : 함수의 호출과 관계되는 지역 변수와 매개변수가 저장됨, 함수의 호출이 끝나면 스택 영역에서 제거됨


# 10-2 프로세스 상태와 계층 구조
## 프로세스 상태
  - 프로세스가 현재 어떤 작업을 하고 있는지 나타냄
  - 생성 상태 : 프로세스를 생성 중인 상태, 메모리에 적재되어 PCB를 할당받은 상태
  - 준비 상태 : 프로세스가 메모리에 적재되어 CPU를 기다리는 상태, 디스패치 - 준비 상태인 프로세스가 실행 상태로 전환되는 것
  - 실행 상태 : 프로세스가 CPU를 점유하고 명령어를 실행하는 상태
  - 대기 상태 : 프로세스가 입출력을 기다리는 상태, 입출력이 완료되면 준비 상태로 전환됨
  - 종료 상태 : 프로세스가 실행을 마치고 종료된 상태, 운영체제는 PCB와 메모리를 해제
## 프로세스 계층 구조
  - 부모 프로세스는 자식 프로세스를 생성할 수 있고, 자식 프로세스는 부모 프로세스의 자원을 공유
## 프로세스 생성 기법
  - 부모 프로세스는 fork 시스템 호출을 통해 자신의 복사본을 자식 프로세스로 생성 -> 자식 프로세스는 exec 시스템 호출을 통해 자신의 메모리 공간을 다른 프로그램으로 덮어씀


# 10-3 스레드
여기서의 스레드는 소프트웨어적인 스레드임
## 프로세스와 스레드
### 스레드 : 프로세스를 구성하는 실행 흐름의 단위
  - 스레드 ID, 프로그램 카운터, 레지스터 집합, 스택으로 구성
### 멀티스레드 프로그램 : 하나의 프로세스에서 여러 개의 스레드를 생성하여 병렬 처리를 수행
## 멀티프로세스와 멀티스레드
### 멀티프로세싱 : 여러 프로세스를 동시에 실행하는 것
### 멀티스레딩 : 여러 스레드로 프로세스를 동시에 실행하는 것

++ 프로세스 끼리는 자원을 공유할 수 없고, 스레드는 프로세스의 자원을 공유할 수 있음
