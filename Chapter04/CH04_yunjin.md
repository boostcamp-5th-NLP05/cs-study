# 4-1 ALU와 제어 장치

- ALU

    
    - `레지스터`를 통해 `피연산자`를 받아 들임 → `피연산`
    - `제어장치`로부터 수행할 연산을 알려주는 `제어신호`를 받아들임 → `연산`
    - 결과는 레지스터에 저장한다.
        - 속도 때문
    - 결과에 플래그를 같이 내보냄.
        - 플래그
            - `부호 플래그`
                - 1이면 음수
            - `제로 플레그`
            - 캐리 플래그
            - 오버플로우 플래그
            - `인터럽트 플래그`
            - 슈퍼바이저 플래그
- 제어장치

    - 제어장치란 ?
        - 컴퓨터 부품들을 관리하고 작동시키기 위한 일종의 전기 신호
    - 역할
        - **제어장치는 `클럭` 신호를 받아들임**
            - 클럭이란 ?
                - 컴퓨터의 모든 부품을 일사불란하게 움직일 수 있게 하는 시간 단위
        - **제어장치는 ‘`해석해야 할 명령어`’를 받아 들임**
        - **제어장치는 `플래그 레지스터 속 플래그 값`을 받아들임**
        - **제어장치는 시스템 버스, 그중에서 제어 버스로 전달된 `제어 신호를 받아 들임`**
    - 제어 장치의 내부/외부 전달
        - 내부 : ALU, 레지스터
        - 외부 : 메모리, 입출력 장치

# 4-2 레지스터

- 프로그램 속 명령어와 데이터는 실행 전후로 반드시 레지스터에 ㅈ장
- 종류
    - **프로그램 카운터 (= 명령어 포인트)**
        - 메모리에서 가져올 명령어의 주소 저장
        - +=1  카운트 함.
    - **명령어 레지스터**
        - 방금 메모리에서 읽어 들인 명령어를 저장하는 레지스터
        - 제어 장치에 전달
    - **메모리 주소 레지스터**
        - 메모리의 주소를 저장하는 레지스터
        - by 주소 버스
    - **메모리 버퍼 레지스터**
        - 메모리와 주고받을 값을 저장하는 레지스터
        - by 데이터 버스
    - **플래그 레지스터**
        - 연산 결과 또는 CPU 상태에 대한 부가적인 정보를 저장
    - **범용 레지스터**
        - 데이터와 주소를 모두 저장할 수 있는 다양하고 일반적인 상황에서 사용할 수 있는 레지스터
    - **스택 포인터**
        - 스택의 꼭대기를 가리키는(마지막으로 저장한 값의 위치) 레지스터
        - `메모리 안에 스택처럼 사용할 영역이 정해져 있음.`
    - **베이스 레지스터**
        - 상대 주소 지정 방식의 일종
        - 오퍼랜드(데이터) + 베이스 레지스터 값
        - `“베이스 레지스터”` 로부터 `“오퍼랜드”`번지 떨어진 코드 실행
            - 기준 주소 200번지로부터 50번지 떨어진 코드 실행!

### [과정]



### [순차적인 연결이 끊어지는 경우]

# 4-3 명령어 사이클과 인터럽트

프로그램을 이루는 수많은 명령어는 일반적으로 인출과 실행이라는 명령 사이클을 반복하며 실행

- 명령어 사이클
    - CPU 가 명령어를 처리하는 정형화된 흐름
    - 인출 사이클
        - 메모리에 있는 명령어를 CPU 로 가지고 오는 단계
    - 실행 사이클
        - 제어장치가 명령어 레지스터에 담긴 값을 해석하고 제어 신호를 발생시키는 단계
    - 간접 사이클
        - 명령어를 실행하기 위해서 한 번 더 메모리 접근해야 하는 경우
        

        
- 인터럽트
    - CPU 의 작업을 방해하는 신호
    

- 종류
    - 동기 인터럽트(예외)
        - 프로그래밍 오류
    - 비동기 인터럽트(=하드웨어 인터럽트)
        - 입출력 장치 ( 프린터, 마우스, 키보드)
        - 비동기로 처리 되지 않으면 CPU 낭비
        - 순서
            1. 인터럽트 요청신호
            2. CPU: 인터럽트 여부 확인
            3. CPU: 인터럽트 플래그 확인
            4. CPU: 인터럽트 가능하면, 백업
            5. CPU: 인터럽트 벡터를 참조해서 인터럽트 서비스 루틴
            6. CPU: 백업한 작업 재개
        - 용어
            - 인터럽트 요청 신호 : CPU 의 작업을 방해하는 인터럽트에 대한 요청
            - 인터럽트 플래그 : 인터럽트 요청 신호를 받아들일지 무시할지를 결정하는 비트
            - 인터럽트 서비스 루틴 (= 인터럽트 핸들러): 인터럽트 서비스 루틴의 시작 주소를 포함하는 인터럽트 서비스 루틴의 식별 정보
            - 인터럽트 벡터 : 인터럽트 서비스 루틱을 식별하기 위한 정보, 시작 정보
        

        

---

# 예외

- 폴트
    - 예외를 처리한 직후 예외가 발생한 명령어부터 실행을 재개하는 예외
- `트랩`
    - 예외를 처리한 직후 예외가 발생한 명령어의 다음 명령어부터 실행을 재개하는 예외
    - `디버깅`
- 중단
    - CPU가 실행 중인 프로그램을 강제로 중단시킬 수 밖에 없는 심각한 오류를 발견했을 때
- 소프트웨어 인터럽트
    - 시스템 호출이 발생했을 때