# Chapter 04 CPU의 작동원리 - 질문답변

## 1.메모리에 저장된 프로그램을 실행하는 과정에서 프로그램 카운터, 명령어 레지스터, 메모리 주소 레지스터, 메모리 버퍼 레지스터에  어떠한 값들이 담기는 지 설명하시오

1. 프로그램 카운터에 1000이 저장(가져올 명령어가 1000번지에 있다)
2. 메모리 주소 레지스터에 1000이 저장
3. 메모리 읽기 제어신호와 메모리 주소 레지스터 값이 각각 제어 버스와 주소 버스를 통해 메모리로 보내짐
4. 1000번지에 저장된 값은 데이터 버스를 통해 메모리 버퍼 레지스터로 전달되고, 프로그램 카운터는 증가되어 다음 명령어를 읽어 들일 준비를 한다.
5. 메모리 버퍼 레지스터에 저장된 값은 명령어 레지스터로 이동
6. 제어장치는 명령어 레지스터의 명령어를 해석하고 제어신호를 발생
7. 1000번지 명령어 처리가 끝나면 CPU 는 다음 명령어(1001번지)를 읽어 드림

## 2. ALU가 어디로부터 무엇을 받아들이고, 어디로 무엇을 내보내는 지 설명하시오

레지스터로 부터 피연산자를 받아들이고, 제어장치로부터 수행할 연산을 알려주는 제어 신호를 받아들인다.
연산 결과값은 바로 메모리에 저장되지 않고 일시적으로 레지스터에 저장된다.
결과값에 대한 정보를 담은 플래그를 플래그 레지스터에 저장한다.

## 3. 하드웨어 인터럽트 처리 순서에 대해 설명하시오

1. 입출력장치는 CPU에 인터럽트 요청 신호를 보냄
2. CPU는 실행 사이클이 끝나고 명령어를 인출하기 전 항상 인터럽트 여부를 확인
3. CPU는 인터럽트 요청을 확인하고 인터럽트 플래그를 통해 현재 인터럽트를 받아들일 수 있는지 여부를 확인
4. 인터럽트를 받아들일 수 있다면 CPU는 지금까지의 작업을 백업
5. CPU는 인터럽트 벡터를 참조하여 인터럽트 서비스 루틴을 실행
6. 인터럽트 서비스 루틴이 끝나면 백업해 둔 작업을 복구하여 실행

## 4. 변위 주소 지정 방식의 상대 주소 지정 방식과 베이스 레지스터 주소 지정 방식에 대해 설명하시오

명령어는 연산 코드와 오퍼랜드로 이루어져 있고, 오퍼랜드 필드에 메모리 주소가 담길 때도 있다.

변위 주소 지정방식은 오퍼랜드 필드의 값과 특정 레지스터의 값을 더하여 유효 주소를 얻어내는 주소 지정 방식

변위 주소 지정 방식은 오퍼랜드 필드의 주소와 어떤 레지스터를 더하는지에 따라 상대 주소 지정 방식, 베이스 레지스터 주소 지정 방식 등으로 나뉜다.

- 상대 주소 지정 방식
    
    오퍼랜드와 프로그램 카운터 값을 더하여 유효 주소를 얻는 방식
    
    프로그램 카운터 값에 오퍼랜드 숫자 만큼 차이나는 번지로 접근
    
- 베이스 레지스터 주소 지정 방식
    
    오퍼랜드와 베이스 레지스터의 값을 더하여 유효 주소를 얻는 방식
    
    베이스 레지스터는 ‘기준 주소’, 오퍼랜드는 ‘기준 주소로부터 떨어진 거리’
    
    즉, 베이스 레지스터 주소 지정 방식은 베이스 레지스터 속 기준 주소로부터 얼마나 떨어져 있는 주소에 접근할 것인지를 연산하여 유효 주소를 얻어내는 방식
